{% extends 'base.html' %}
{% block title %}Gestione Utenti{% endblock %}
{% block content %}
<h3>Gestione Utenti</h3>
<a href="{{ url_for('index') }}" class="btn btn-outline-secondary mb-4">Torna alla Home</a>

<div class="row">
  <div class="col-md-6">
    <form method="post" action="{{ url_for('add_user') }}">
      <div class="mb-3">
        <label class="form-label">Username</label>
        <input class="form-control" type="text" name="username" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Password</label>
        <input class="form-control" type="password" name="password" required>
      </div>
      <button class="btn btn-success">Crea Utente</button>
    </form>
  </div>

  <div class="col-md-6">
    <h5>Utenti registrati</h5>
    <ul class="list-group">
      {% for u in utenti %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          {{ u.username }}
          {% if u.username != 'admin' %}
            <a class="btn btn-sm btn-danger" href="{{ url_for('delete_user', uid=u.id) }}">Elimina</a>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}
